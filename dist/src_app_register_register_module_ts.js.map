{"version":3,"file":"src_app_register_register_module_ts.js","mappings":"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","sources":["./src/app/profile-photo-option-component/profile-photo-option-component.component.ts","./src/app/register/register-routing.module.ts","./src/app/register/register.form.ts","./src/app/register/register.module.ts","./src/app/register/register.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-profile-photo-option-component',\n  templateUrl: './profile-photo-option-component.component.html',\n  styleUrls: ['./profile-photo-option-component.component.scss'],\n})\nexport class ProfilePhotoOptionComponentComponent implements OnInit {\n\n  constructor(private modalController: ModalController, private router:Router) { }\n\n  \n\n  ngOnInit() {}\n\n  closeModal() {\n    this.modalController.dismiss(null, 'backdrop');\n  }\n  selectPhoto(url) {\n    // sendURLtobackend;\n    console.log(\"sending URL to the back: \", url) \n    sessionStorage.setItem(\"dp_url\", url);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { FormBuilder, FormGroup, ValidatorFn, Validators } from \"@angular/forms\";\n\nexport class RegisterPageForm{\n\n    private formBuilder: FormBuilder;\n    private registerForm: FormGroup;\n\n    constructor(formBuilder: FormBuilder){\n        this.formBuilder = formBuilder;\n        this.registerForm = this.createForm();\n    }\n\n    createForm():FormGroup {\n        let registerForm =  this.formBuilder.group({\n            // This function receives objects that will inform the properties of the form that we want to create & also how each property will be validated \n            email:['', [Validators.required, Validators.email]],\n            password: ['', [Validators.required, Validators.minLength(8)]],\n            cpassword: ['', [Validators.required]],\n            username: ['', [Validators.required]],\n            bio: ['', [Validators.required, Validators.maxLength(200)]],\n            worklevel: ['',[Validators.required]],\n            telegram: ['', [Validators.required]],\n            photoURL: [''],\n            provider: ['LOCAL']\n        });\n        \n        registerForm.get('cpassword').setValidators(passwordMatch(registerForm));\n        return registerForm;\n    }\n\n    getForm():FormGroup {\n        return this.registerForm;\n    }\n}\n\nfunction passwordMatch(registerForm: FormGroup): ValidatorFn {\n    const password = registerForm.get('password');\n    const cpassword = registerForm.get('cpassword');\n\n    const validator = () => {\n        return password.value == cpassword.value ? null:{notMatch: true}\n    };\n\n    return validator;\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\nimport { ErrorMessageModule } from '../components/error-message/error-message.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegisterPageRoutingModule,\n    ReactiveFormsModule,\n    ErrorMessageModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\n// import { ApiService } from './../../service/api.service';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { RegisterPageForm } from './register.form';\nimport { AuthApiService } from '../service/api.authService';\nimport { AlertController } from '@ionic/angular';\nimport { ModalController } from '@ionic/angular';\nimport {Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { ProfilePhotoOptionComponentComponent } from '../profile-photo-option-component/profile-photo-option-component.component';\n// const { Camera } = Plugins;\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n  constructor(\n    private router: Router, \n    private formBuilder: FormBuilder,\n    private authApiService: AuthApiService,\n    private alertController: AlertController,\n    private modalController: ModalController,\n    // private ngZone: ngZone,\n    // private apiService: ApiService\n  ) {}\n    // this.mainForm();\n\n  photo = \"https://lh3.googleusercontent.com/PxYZd_6SRthIuCC1OvPnpNFTA5zGvyv7woU2o_g-5xrtwwhT5H6KFe4ZZYZMXjrOAyZ_1xLkOzILkw5T2HybxxliuF2l-cDqbckEFg=w600\";\n\n  // submit = false;\n\n\n  // async openOptionSelection() {\n  //   const modal = await this.modalController.create({\n  //     component: ProfilePhotoOptionComponentComponent,\n  //     //  cssClass: ‘transparent-modal’\n  //   });\n\n  async openOptionSelection() {\n    const modal = await this.modalController.create({\n      component: ProfilePhotoOptionComponentComponent,\n      // cssClass: ‘transparent-modal’\n    })\n\n    modal.onDidDismiss()\n    .then(res => {\n        this.usePicture(sessionStorage.getItem(\"dp_url\"));\n    });\n    return await modal.present();\n  }\n\n  async usePicture(url: any) {\n    console.log(\"url: \" + url);\n    this.photo = url;\n  }\n\n\n\n\n  registerForm: RegisterPageForm;\n  isSubmitted = false;\n  ngOnInit() {\n    this.createForm();\n  }\n\n  async register(){\n    console.log('external-register')\n    this.registerForm.getForm().get('photoURL').setValue(this.photo, {onlyself: true})\n    this.isSubmitted = true;\n    if(!this.registerForm.getForm().valid) {\n      console.log(\"Invalid registration\")\n    } else {\n      console.log(this.registerForm.getForm().value)\n      try{\n        await this.authApiService.verifyAccount(this.registerForm.getForm().value).subscribe(async (dataA) => {\n          if (dataA.result) {\n            await this.presentAlert('Unsuccessful Registration', \"Email already registered with StudyJio\");\n            this.router.navigate(['login']);\n            return;\n          }\n          else{\n            await this.authApiService.register(this.registerForm.getForm().value).subscribe(\n              async dataR => {\n                console.log(dataR);\n                if(await dataR.success){\n                  localStorage.setItem('userID', JSON.stringify(dataR.userID));\n                  this.presentAlert('Registration Successful', 'Hi '+ this.registerForm.getForm().get('username').value + \"! Enjoy your StudyJio experience\" )\n                  this.router.navigate(['tabs'])\n                }\n                else{\n                  await this.presentAlert('Unsuccessful Registration', dataR.message)\n                  this.router.navigate(['login'])\n                }\n              }\n            )\n          } \n          }\n        )} catch(error){console.log(error)}\n    }\n  }\n\n\n  private createForm() {\n    this.registerForm = new RegisterPageForm(this.formBuilder);\n  }\n\n  async presentAlert(h, b){\n    const alert = await this.alertController.create({\n      header: h,\n      subHeader: b,\n      buttons: ['Dismiss']\n    });\n    await alert.present();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}